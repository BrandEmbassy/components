import React, {PureComponent} from 'react'
import ElementType from '../ElementType'
import Bubble from '../Text/Bubble'
import styles from './index.css'

export default class QuickReplies extends PureComponent {

  getTextElement() {
    const { elements } = this.props
    const textElements = elements.filter((el) => el.type === ElementType.TEXT)
    return textElements[0] ? textElements[0] : null
  }

  getButtons() {
    const { elements } = this.props
    return elements.filter((el) => el.type === ElementType.BUTTON)
  }

  render() {
    const { elements, onClick, hideButtons } = this.props;
    const textElement = this.getTextElement()

    return (
      <div className={styles.QuickReplies}>
        {textElement && <Bubble text={textElement.text} />}
        {!hideButtons && this.getButtons().map(({text, id, postback}) => {
          return <button key={id} onClick={() =>Â onClick(postback, text)}>{text}</button>
        })}
      </div>
    )
  }

}
